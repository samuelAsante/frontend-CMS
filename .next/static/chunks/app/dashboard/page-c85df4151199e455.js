(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2459:(e,t,s)=>{Promise.resolve().then(s.bind(s,8470))},8470:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),d=s(2115),c=s(3464),l=s(6874),r=s.n(l),n=s(9946);let i=(0,n.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=(0,n.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),o=(0,n.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function h(){let[e,t]=(0,d.useState)([]),[s,l]=(0,d.useState)(!0),[n,h]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{try{let e=await c.A.get("https://cc-1021100307.onrender.com/contacts");t(e.data)}catch(e){h("Failed to load contacts. Please try again.")}finally{l(!1)}})()},[]);let m=async s=>{if(confirm("Are you sure you want to delete this contact?"))try{await c.A.delete("https://cc-1021100307.onrender.com/contacts/".concat(s)),t(e.filter(e=>e.contact_id!==s))}catch(e){alert("Failed to delete contact.")}};return(0,a.jsxs)("div",{className:"space-y-6 text-black p-4 rounded-xl shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"All Contacts"}),(0,a.jsxs)(r(),{href:"/dashboard/contacts/add",className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl text-sm font-medium transition",children:[(0,a.jsx)(i,{size:16})," Add Contact"]})]}),s?(0,a.jsx)("p",{className:"",children:"Loading contacts..."}):n?(0,a.jsx)("p",{className:"",children:n}):0===e.length?(0,a.jsx)("p",{className:"",children:"No contacts found."}):(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-red-200 dark:border-red-700",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-red-200 dark:divide-red-700",children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Phone"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider",children:"Address"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-red-100 dark:divide-red-800",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-red-50 dark:hover:bg-zinc-50 transition",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:e.companyName}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:e.companyEmail}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:e.companyPhone}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm",children:e.companyAddress}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm flex gap-2",children:[(0,a.jsx)(r(),{href:"/dashboard/contacts/edit/".concat(e.contact_id),className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-lg dark:bg-white text-red-700 hover:bg-red-200",children:(0,a.jsx)(x,{size:14,className:"mr-1"})}),(0,a.jsx)("button",{onClick:()=>m(e.contact_id),className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-lg dark:bg-white text-red-700 hover:bg-red-200",children:(0,a.jsx)(o,{size:14,className:"mr-1"})})]})]},e.contact_id))})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[464,95,441,684,358],()=>t(2459)),_N_E=e.O()}]);