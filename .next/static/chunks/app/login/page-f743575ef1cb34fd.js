(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6178:(e,s,t)=>{Promise.resolve().then(t.bind(t,9690))},9690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var l=t(5155),r=t(2115),a=t(3464),n=t(2177),o=t(5594),i=t(221);let c=o.z.object({email:o.z.string().email("Invalid email address"),password:o.z.string().min(1,"Password is required")}),d=e=>{let{label:s,register:t,error:r,type:a="text"}=e;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,l.jsx)("input",{...t,type:a,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),r&&(0,l.jsx)("p",{className:"text-red-500 text-sm mt-1",children:r.message})]})},u=e=>{let{children:s,loading:t=!1}=e;return(0,l.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-2xl disabled:opacity-50",children:t?"Signing in...":s})};function m(){let{register:e,handleSubmit:s,formState:{errors:t}}=(0,n.mN)({resolver:(0,i.u)(c)}),[o,m]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),p=async e=>{m(!0),g(null);try{let s=await a.A.post("https://cc-1021100307.onrender.com/signin",e);g("Login successful! Redirecting..."),console.log("âœ… Logged in:",s.data),s.data.token&&localStorage.setItem("token",s.data.token),setTimeout(()=>{window.location.href="/dashboard"},1500)}catch(e){var s,t,l,r;console.error("Login error:",e),console.error("Status:",null==(s=e.response)?void 0:s.status),console.error("Response data:",null==(t=e.response)?void 0:t.data),g((null==(r=e.response)||null==(l=r.data)?void 0:l.message)||"Login failed. Try again.")}finally{m(!1)}};return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4 py-10 sm:px-6 lg:px-8",children:(0,l.jsxs)("form",{onSubmit:s(p),className:"max-w-md w-full bg-white p-8 shadow-md rounded-2xl",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Welcome Back! Sign In"}),(0,l.jsx)(d,{label:"Email",register:e("email"),error:t.email}),(0,l.jsx)(d,{label:"Password",register:e("password"),error:t.password,type:"password"}),x&&(0,l.jsx)("p",{className:"text-sm mt-2 text-center ".concat(x.includes("successful")?"text-green-600":"text-red-600"),children:x}),(0,l.jsx)(u,{loading:o,children:"Sign In"}),(0,l.jsxs)("p",{className:"mt-8 text-center",children:["Don't have an account yet?"," ",(0,l.jsx)("a",{className:"text-blue-500",href:"/register",children:"Create an account"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,342,441,684,358],()=>s(6178)),_N_E=e.O()}]);